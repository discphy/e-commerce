# E-커머스 서비스 요구사항 분석

## 요약 (Summary)

사용자는 상품 주문에 필요한 메뉴들을 조회하고, 메뉴들을(여러개) 선택하여 주문 및 결제한다.    
이 때 사용자들은 미리 충전한 포인트를 사용하며, 잔액을 충전 및 조회할 수 있어야 한다.

또한, 쿠폰 목록을 조회하고, 선착순으로 발급이 가능해야하며  
주문 시, 쿠폰을 사용하면 전체 주문금액에 대한 할인 혜택을 받을 수 있다.

마지막으로는, 최근 3일간 가장 많이 팔린 상위 5개 상품 정보를 제공해야 한다.

## 요구사항 (Requirements)

### 사용자 (User)

**✅ 기능적 요구사항**

+ [ ] 사용자 식별자를 통해 잔액을 조회한다.

### 잔액 (Point)

**✅ 기능적 요구사항**

+ [ ] 사용자 식별자와 충전할 금액을 받아 잔액을 충전한다. (최대 금액 포함)

**☑️ 비기능적 요구사항**

+ [ ] 금액 충전은 동시성이 보장되어야 한다. (다중 인스턴스 환경 고려)

### 상품 (Product)

**✅ 기능적 요구사항**

+ [ ] 상품 정보 (ID, 상품이름, 상품가격, 잔여수량) 목록을 조회한다.

**☑️ 비기능적 요구사항**

+ [ ] 조회 시점에, 상품별 잔여수량은 정확해야 한다. (캐싱 주의)

### 쿠폰 (Coupon)

**✅ 기능적 요구사항**

+ [ ] 사용자 식별자와 쿠폰 식별자를 받아 선착순 쿠폰을 발급한다.
+ [ ] 보유 쿠폰 정보 (ID, 쿠폰이름, 잔여수량, 할인율, 쿠폰기간) 목록을 조회한다.

**☑️ 비기능적 요구사항**

+ [ ] 쿠폰 발급 시 동시성이 보장되어야 한다.

### 주문 및 결제 (Order)

**✅ 기능적 요구사항**

+ [ ] 사용자 식별자와 상품 정보(상품 ID, 수량) 목록과 쿠폰정보를 받아 주문하고 결제한다.
+ [ ] 결제 성공시, 잔액 차감/상품 재고 수량 차감/주문 정보 저장/쿠폰 사용(있을 경우)/외부 데이터 플랫폼 주문 정보 전송 한다.

**☑️ 비기능적 요구사항**

+ [ ] 주문 실패 시, 트랜잭션 보장이 필요하다.
+ [ ] 외부 데이터 플랫폼 주문 정보 전송은 Mock 처리 한다.
+ [ ] 재고 관리 및 잔액 처리가 정상적이도록 동시성 보장이 필요하다.

### 주문 상품 (OrderProduct)

**✅ 기능적 요구사항**

+ [ ] 주문 및 결제가 완료된 최근 3일간 가장 많이 팔린 상위 5개 상품 정보 목록을 조회한다.

**☑️ 비기능적 요구사항**

+ [ ] 배치 스케줄러를 통한 구현을 할지, 실시간으로 구성할지 고민이다.
+ [ ] 성능으로 인한 캐싱 고려 필요


